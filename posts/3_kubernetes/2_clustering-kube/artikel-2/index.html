<!doctype html><html><head><title>Clustering Kubernetes using Kubeadm</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link rel=stylesheet href=/css/katex.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/site/BYAMRIcom-favicon_hu3317f8b1d44c2135ae236f455e1a3d15_58339_42x0_resize_box_2.png><meta property="og:title" content="Clustering Kubernetes using Kubeadm"><meta property="og:description" content="1. Eksekusi di semua nodes  Update repo & packages  sudo apt-get update -y && sudo apt upgrade -y --with-new-pkgs Install dependencies  sudo apt-get install -y apt-transport-https ca-certificates curl gnupg lsb-release Setup localtime  sudo timedatectl set-timezone Asia/Jakarta Setup hosts file  sudo nano /etc/hosts ... xxx.xxx.xxx.xxx hostname ... 2. Install Kubernetes dan Containerd  Disable swap  sudo swapoff -a Disable swap on startup in /etc/fstab:  sudo sed -i '/ swap / s/^\(."><meta property="og:type" content="article"><meta property="og:url" content="https://me.byamri.com/posts/3_kubernetes/2_clustering-kube/artikel-2/"><meta property="article:published_time" content="2022-03-18T06:00:20+06:00"><meta property="article:modified_time" content="2022-03-18T06:00:20+06:00"><meta name=description content="Clustering Kubernetes using Kubeadm"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/BYAMRIcom-logo_hub0cdfd126a2885dbd6bce6d48a0e1f6f_65018_42x0_resize_box_2.png alt=Logo>
My Resume</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="flag-icon flag-icon-gb"></span>English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/id/posts/3_kubernetes/2_clustering-kube/artikel-2><span class="flag-icon flag-icon-id"></span>Indonesian</a></div></li></ul></div></div><img src=/images/site/BYAMRIcom-logo_hub0cdfd126a2885dbd6bce6d48a0e1f6f_65018_42x0_resize_box_2.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/BYAMRIcom-logo2_hu2284165ffeb77454cba45acef23638fe_75909_42x0_resize_box_2.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/1_introduction/ title=Introduction>Introduction</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/2_openstack/>Openstack</a><ul><li><a href=/posts/2_openstack/artikel-1/artikel-1/ title="Openstack Introduction">Openstack Introduction</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/3_kubernetes/>Kubernetes</a><ul class=active><li><a href=/posts/3_kubernetes/1_cara-konfigurasi-ha/cara-konfigurasi-ha/ title="Install Kubernetes HA">Install Kubernetes HA</a></li><li><a class=active href=/posts/3_kubernetes/2_clustering-kube/artikel-2/ title="Clustering Kubernetes using Kubeadm">Clustering Kubernetes using Kubeadm</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/4_docker/>Docker</a><ul><li><a href=/posts/4_docker/artikel-1/artikel-1/ title="Docker Introduction">Docker Introduction</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/5_monitoring/>Monitoring</a><ul><li><a href=/posts/5_monitoring/monitoring-vm-1-node-exporter/monitoring-vm-1-node-exporter/ title="Part I - Monitoring VM on Prometheus and Grafana">Part I - Monitoring VM on Prometheus and Grafana</a></li><li><a href=/posts/5_monitoring/monitoring-vm-2-prometheus/monitoring-vm-prometheus/ title="Part II - Monitoring VM on Prometheus and Grafana">Part II - Monitoring VM on Prometheus and Grafana</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/6_story/>Story Telling</a><ul><li><a href=/posts/6_story/story_telling/story-bandung-traveling/ title="Holiday Story">Holiday Story</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://me.byamri.com/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/me2_hu6449058ebe31352b620a6ee237336747_560239_120x120_fit_box_2.png alt="Author Image"><h5 class=author-name>Roby Yasir Amri</h5><p>:date_full</p></div><div class=title><h1>Clustering Kubernetes using Kubeadm</h1></div><div class=taxonomy-terms><ul></ul></div><div class=post-content id=post-content><h2 id=1-eksekusi-di-semua-nodes>1. Eksekusi di semua nodes</h2><ol><li>Update repo & packages</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt-get update -y <span style=color:#f92672>&amp;&amp;</span> sudo apt upgrade -y --with-new-pkgs
</code></pre></div><ol start=2><li>Install dependencies</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt-get install -y apt-transport-https ca-certificates curl gnupg lsb-release
</code></pre></div><ol start=3><li>Setup localtime</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo timedatectl set-timezone Asia/Jakarta
</code></pre></div><ol start=4><li>Setup hosts file</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo nano /etc/hosts
...
xxx.xxx.xxx.xxx hostname
... 
</code></pre></div><h2 id=2-install-kubernetes-dan-containerd>2. Install Kubernetes dan Containerd</h2><ol><li>Disable swap</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo swapoff -a
</code></pre></div><ol start=2><li>Disable swap on startup in /etc/fstab:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo sed -i <span style=color:#e6db74>&#39;/ swap / s/^\(.*\)$/#\1/g&#39;</span> /etc/fstab
</code></pre></div><ol start=3><li>Create configuration file for containerd:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#e6db74>&lt;&lt;EOF | sudo tee /etc/modules-load.d/containerd.conf
</span><span style=color:#e6db74>overlay
</span><span style=color:#e6db74>br_netfilter
</span><span style=color:#e6db74>EOF</span>
</code></pre></div><ol start=4><li>Load modules:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo modprobe overlay
sudo modprobe br_netfilter
</code></pre></div><ol start=5><li>Set system configurations for Kubernetes networking:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#e6db74>&lt;&lt;EOF | sudo tee /etc/sysctl.d/99-kubernetes-cri.conf
</span><span style=color:#e6db74>net.bridge.bridge-nf-call-iptables = 1
</span><span style=color:#e6db74>net.ipv4.ip_forward = 1
</span><span style=color:#e6db74>net.bridge.bridge-nf-call-ip6tables = 1
</span><span style=color:#e6db74>EOF</span>
</code></pre></div><ol start=6><li>Apply new settings:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo sysctl --system
</code></pre></div><ol start=7><li>Install Containerd</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt-get update <span style=color:#f92672>&amp;&amp;</span> sudo apt-get install -y containerd
</code></pre></div><ol start=8><li>Create default configuration file for containerd:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo mkdir -p /etc/containerd
</code></pre></div><ol start=9><li>Generate default containerd configuration and save to the newly created default file:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo containerd config default | sudo tee /etc/containerd/config.toml
</code></pre></div><ol start=10><li>Restart & check status containerd to ensure new configuration file usage:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo systemctl restart containerd
sudo systemctl status containerd
</code></pre></div><ol start=11><li>Add kubernetes repository</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
cat <span style=color:#e6db74>&lt;&lt;EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list
</span><span style=color:#e6db74>deb https://apt.kubernetes.io/ kubernetes-xenial main
</span><span style=color:#e6db74>EOF</span>

sudo apt-get update
</code></pre></div><ol start=12><li>Install Kubelet, kubeadm dan kubectl</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo apt-get -y install kubelet<span style=color:#f92672>=</span>1.23.0-00 kubeadm<span style=color:#f92672>=</span>1.23.0-00 kubectl<span style=color:#f92672>=</span>1.23.0-00
</code></pre></div><h2 id=3-clustering-kubernetes>3. Clustering Kubernetes</h2><h3 id=master-nodes>Master Nodes</h3><ol><li>Init kubernetes</li></ol><blockquote><p>Jika menggunakan flannel</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo kubeadm init --pod-network-cidr<span style=color:#f92672>=</span>10.244.0.0/16 --control-plane-endpoint <span style=color:#e6db74>&#34;&lt;vip-atau-hostname-master:6443&gt;&#34;</span> --upload-certs
</code></pre></div><blockquote><p>Jika menggunakan calico</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo kubeadm init --control-plane-endpoint <span style=color:#e6db74>&#34;&lt;vip-atau-hostname-master:6443&gt;&#34;</span> --upload-certs
</code></pre></div><ol start=2><li>Set Kubectl access</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown <span style=color:#66d9ef>$(</span>id -u<span style=color:#66d9ef>)</span>:<span style=color:#66d9ef>$(</span>id -g<span style=color:#66d9ef>)</span> $HOME/.kube/config
</code></pre></div><ol start=3><li>Alternatively, if you are the root user, you can run:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>export KUBECONFIG<span style=color:#f92672>=</span>$HOME/.kube/config
</code></pre></div><ol start=4><li>Install CNI</li></ol><blockquote><p>Jika menggunakan Flannel</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl apply -f <span style=color:#f92672>[</span>https://raw.githubusercontent.com/coreos/**flan**nel/master/Documentation/kube-**flan**nel.yml<span style=color:#f92672>](</span>https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml<span style=color:#f92672>)</span>
</code></pre></div><blockquote><p>jika menggunakan Calico</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml
</code></pre></div><h3 id=init-kubernetes-jika-menggunakan-versi-dibawah-120x>Init kubernetes jika menggunakan versi dibawah 1.20.x</h3><ol><li>Bikin file kubeadm-config</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#ae81ff>sudo nano kubeadm-config.yaml</span>
<span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>kubeadm.k8s.io/v1beta2</span>
<span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ClusterConfiguration</span>
<span style=color:#f92672>networking</span>:
<span style=color:#f92672>podSubnet</span>: <span style=color:#e6db74>&#34;10.244.0.0/16&#34;</span>
<span style=color:#f92672>kubernetesVersion</span>: <span style=color:#e6db74>&#34;v1.15.1&#34;</span>  <span style=color:#75715e>## *sesuaikan dengan versi cluster*</span>
<span style=color:#f92672>controlPlaneEndpoint</span>: <span style=color:#ae81ff>“&lt;vip-atau-hostname-master:6443&gt;&#34;</span>
<span style=color:#f92672>apiServer</span>:
  <span style=color:#f92672>certSANs</span>:
  - <span style=color:#e6db74>&#34;IP-Master1&#34;</span>
  - <span style=color:#e6db74>&#34;hostname-master1&#34;</span>
  - <span style=color:#e6db74>&#34;IP-Master2&#34;</span>
  - <span style=color:#e6db74>&#34;hostname-master2&#34;</span>
  - <span style=color:#e6db74>&#34;IP-Master3&#34;</span>
  - <span style=color:#e6db74>&#34;hostname-master3&#34;</span>
  - <span style=color:#e6db74>&#34;IP-VIP&#34;</span>
  - <span style=color:#e6db74>&#34;hostname-VIP&#34;</span>
</code></pre></div><ol start=2><li>Init Cluster</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubeadm init --config<span style=color:#f92672>=</span>kubeadm-config.yaml
</code></pre></div><ol start=3><li>Sebelum join cluster, copy file ke semua master</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>scp -r /etc/kubernetes/pki master-node:~/
cd pki
mkdir -p /etc/kubernetes/pki/etcd
cp ca.crt ca.key sa.key sa.pub front-proxy-ca.crt front-proxy-ca.key /etc/kubernetes/pki
cp etcd/ca.crt etcd/ca.key /etc/kubernetes/pki/etcd/
</code></pre></div><h3 id=join-cluster>Join cluster</h3><ol><li>Join Master node ke Cluster</li></ol><blockquote><p>In the Control Plane Node/Master node, create the token and copy the kubeadm join command (NOTE:The join command can also be found in the output from kubeadm init command):</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo kubeadm token create --print-join-command

sudo kubeadm join &lt;join command from the previous command&gt; --control-plane —apiserver-advertise-address<span style=color:#f92672>=</span>&lt;ip-node&gt;
</code></pre></div><ol start=2><li>Join Worker node ke Cluster</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo kubeadm join &lt;join command from the previous command&gt;
kubectl label nodes &lt;worker-hostname&gt; type<span style=color:#f92672>=</span>app
</code></pre></div><ol start=3><li>Add worker label</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl label nodes &lt;worker-hostname&gt; <span style=color:#f92672>[</span>node-role.kubernetes.io/worker<span style=color:#f92672>=](</span>http://node-role.kubernetes.io/worker<span style=color:#f92672>=)</span>
</code></pre></div><h2 id=4-rejoin-masterworker-node-baru-ke-existing-cluster>4. Rejoin master/worker node baru ke existing cluster</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>master$ sudo KUBECERT<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>kubeadm init phase upload-certs --upload-certs<span style=color:#66d9ef>)</span>
master# sudo kubeadm token create --certificate-key $KUBECERT --print-join-command
worker-new$ sudo kubeadm join &lt;join command from the previous command&gt;
  
master-new$ sudo kubeadm join --control-plane &lt;join command from the previous command&gt;
</code></pre></div></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fme.byamri.com%2fposts%2f3_kubernetes%2f2_clustering-kube%2fartikel-2%2f" target=_blank><i class="fab fa-facebook"></i></a><a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fme.byamri.com%2fposts%2f3_kubernetes%2f2_clustering-kube%2fartikel-2%2f&text=Clustering%20Kubernetes%20using%20Kubeadm&via=My%20Resume" target=_blank><i class="fab fa-twitter"></i></a><a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fme.byamri.com%2fposts%2f3_kubernetes%2f2_clustering-kube%2fartikel-2%2f&title=Clustering%20Kubernetes%20using%20Kubeadm" target=_blank><i class="fab fa-reddit"></i></a><a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fme.byamri.com%2fposts%2f3_kubernetes%2f2_clustering-kube%2fartikel-2%2f&title=Clustering%20Kubernetes%20using%20Kubeadm" target=_blank><i class="fab fa-linkedin"></i></a><a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Clustering%20Kubernetes%20using%20Kubeadm https%3a%2f%2fme.byamri.com%2fposts%2f3_kubernetes%2f2_clustering-kube%2fartikel-2%2f" target=_blank><i class="fab fa-whatsapp"></i></a><a class="btn btn-sm email-btn" href="mailto:?subject=Clustering%20Kubernetes%20using%20Kubeadm&body=https%3a%2f%2fme.byamri.com%2fposts%2f3_kubernetes%2f2_clustering-kube%2fartikel-2%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/RobyYasirAmri/robyyasiramri.github.io/edit/main/content/posts/3_kubernetes/2_clustering-kube/artikel-2.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/3_kubernetes/1_cara-konfigurasi-ha/cara-konfigurasi-ha/ title="How to Configure High Availabilty Kubernetes Cluster on Ubuntu 20.4" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i>Prev</div><div class=next-prev-text>How to Configure High Availabilty Kubernetes Cluster on Ubuntu 20.4</div></a></div><div class="col-md-6 next-article"><a href=/posts/4_docker/artikel-1/artikel-1/ title="Docker Introduction" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Docker Introduction</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a><div class="dropdown languageSelector"><a class="btn dropdown-toggle" href=# id=languageSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="flag-icon flag-icon-gb"></span>English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/id/posts/3_kubernetes/2_clustering-kube/artikel-2><span class="flag-icon flag-icon-id"></span>Indonesian</a></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#1-eksekusi-di-semua-nodes>1. Eksekusi di semua nodes</a></li><li><a href=#2-install-kubernetes-dan-containerd>2. Install Kubernetes dan Containerd</a></li><li><a href=#3-clustering-kubernetes>3. Clustering Kubernetes</a><ul><li><a href=#master-nodes>Master Nodes</a></li><li><a href=#init-kubernetes-jika-menggunakan-versi-dibawah-120x>Init kubernetes jika menggunakan versi dibawah 1.20.x</a></li><li><a href=#join-cluster>Join cluster</a></li></ul></li><li><a href=#4-rejoin-masterworker-node-baru-ke-existing-cluster>4. Rejoin master/worker node baru ke existing cluster</a></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://me.byamri.com#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://me.byamri.com#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://me.byamri.com#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://me.byamri.com#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://me.byamri.com#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://me.byamri.com#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:roby@byamri.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span><span>roby@byamri.com</span></a></li></ul></div><div class="col-md-4 col-sm-12"><p>Stay up to date with email notification</p><form action="https://github.us1.list-manage.com/subscribe/post?u=19de52a4603135aae97163fd8&amp;amp;id=094a24c76e" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=validate target=_blank novalidate><div class=form-group><input type=email class=form-control id=mce-EMAIL name=EMAIL aria-describedby=emailHelp placeholder="Enter email">
<small id=emailHelp class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small></div><button type=submit class="btn btn-info">Submit</button></form></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2022 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script type=text/javascript defer src=/js/katex.min.js></script><script type=text/javascript defer src=/js/auto-render.min.js onload=renderMathInElement(document.body);></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>